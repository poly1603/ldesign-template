{"version":3,"file":"TemplateSelector.vue2.js","sources":["../../src/components/TemplateSelector.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\nimport type { DeviceType } from '@ldesign/template-core'\r\nimport { useTemplateList } from '../composables/useTemplateList'\r\n\r\ninterface Props {\r\n  /**\r\n   * 功能分类\r\n   */\r\n  category: string\r\n\r\n  /**\r\n   * 设备类型\r\n   */\r\n  device?: DeviceType\r\n\r\n  /**\r\n   * 当前选中的模板ID\r\n   */\r\n  modelValue?: string\r\n\r\n  /**\r\n   * 是否显示预览图\r\n   */\r\n  showPreview?: boolean\r\n\r\n  /**\r\n   * 是否显示描述\r\n   */\r\n  showDescription?: boolean\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  showPreview: true,\r\n  showDescription: true,\r\n})\r\n\r\nconst emit = defineEmits<{\r\n  'update:modelValue': [value: string]\r\n  'change': [value: string]\r\n}>()\r\n\r\nconst { templates, loading } = useTemplateList(\r\n  computed(() => props.category),\r\n  computed(() => props.device)\r\n)\r\n\r\nfunction selectTemplate(id: string) {\r\n  emit('update:modelValue', id)\r\n  emit('change', id)\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"template-selector\">\r\n    <!-- 加载状态 -->\r\n    <div v-if=\"loading\" class=\"template-selector__loading\">\r\n      <slot name=\"loading\">加载中...</slot>\r\n    </div>\r\n\r\n    <!-- 模板列表 -->\r\n    <div v-else-if=\"templates.length > 0\" class=\"template-selector__list\">\r\n      <div\r\n        v-for=\"template in templates\"\r\n        :key=\"template.id\"\r\n        class=\"template-selector__item\"\r\n        :class=\"{ 'is-active': modelValue === template.id }\"\r\n        @click=\"selectTemplate(template.id)\"\r\n      >\r\n        <!-- 预览图 -->\r\n        <div v-if=\"showPreview && template.preview\" class=\"template-selector__preview\">\r\n          <img :src=\"template.preview\" :alt=\"template.displayName || template.name\" />\r\n        </div>\r\n\r\n        <!-- 信息 -->\r\n        <div class=\"template-selector__info\">\r\n          <div class=\"template-selector__name\">\r\n            {{ template.displayName || template.name }}\r\n          </div>\r\n\r\n          <div v-if=\"showDescription && template.description\" class=\"template-selector__description\">\r\n            {{ template.description }}\r\n          </div>\r\n\r\n          <!-- 标签 -->\r\n          <div v-if=\"template.tags && template.tags.length > 0\" class=\"template-selector__tags\">\r\n            <span\r\n              v-for=\"tag in template.tags\"\r\n              :key=\"tag\"\r\n              class=\"template-selector__tag\"\r\n            >\r\n              {{ tag }}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 选中标识 -->\r\n        <div v-if=\"modelValue === template.id\" class=\"template-selector__check\">\r\n          ✓\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 空状态 -->\r\n    <div v-else class=\"template-selector__empty\">\r\n      <slot name=\"empty\">暂无模板</slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.template-selector {\r\n  width: 100%;\r\n}\r\n\r\n.template-selector__loading,\r\n.template-selector__empty {\r\n  padding: 40px 20px;\r\n  text-align: center;\r\n  color: #909399;\r\n  font-size: 14px;\r\n}\r\n\r\n.template-selector__list {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\r\n  gap: 16px;\r\n}\r\n\r\n.template-selector__item {\r\n  position: relative;\r\n  border: 2px solid #dcdfe6;\r\n  border-radius: 8px;\r\n  padding: 12px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  background: #fff;\r\n}\r\n\r\n.template-selector__item:hover {\r\n  border-color: #409eff;\r\n  box-shadow: 0 2px 12px rgba(64, 158, 255, 0.2);\r\n}\r\n\r\n.template-selector__item.is-active {\r\n  border-color: #409eff;\r\n  background: #ecf5ff;\r\n}\r\n\r\n.template-selector__preview {\r\n  width: 100%;\r\n  height: 160px;\r\n  margin-bottom: 12px;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  background: #f5f7fa;\r\n}\r\n\r\n.template-selector__preview img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.template-selector__info {\r\n  flex: 1;\r\n}\r\n\r\n.template-selector__name {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #303133;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.template-selector__description {\r\n  font-size: 14px;\r\n  color: #606266;\r\n  margin-bottom: 8px;\r\n  line-height: 1.5;\r\n}\r\n\r\n.template-selector__tags {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 6px;\r\n}\r\n\r\n.template-selector__tag {\r\n  display: inline-block;\r\n  padding: 2px 8px;\r\n  font-size: 12px;\r\n  color: #909399;\r\n  background: #f4f4f5;\r\n  border-radius: 4px;\r\n}\r\n\r\n.template-selector__check {\r\n  position: absolute;\r\n  top: 12px;\r\n  right: 12px;\r\n  width: 24px;\r\n  height: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: #409eff;\r\n  color: #fff;\r\n  border-radius: 50%;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n}\r\n</style>"],"names":["props","__props","emit","__emit","templates","loading","useTemplateList","computed","category","device","selectTemplate","id"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,IAAA,MAAMA,KAAAA,GAAQC,OAAAA;AAKd,IAAA,MAAMC,IAAAA,GAAOC,MAAAA;AAKb,IAAA,MAAM;AAAA,MAAEC,SAAAA;AAAAA,MAAWC;AAAAA,KAAQ,GAAIC,eAAAA,CAC7BC,QAAAA,CAAS,MAAMP,KAAAA,CAAMQ,QAAQ,CAAA,EAC7BD,QAAAA,CAAS,MAAMP,KAAAA,CAAMS,MAAM,CAC7B,CAAA;AAEA,IAAA,SAASC,eAAeC,EAAAA,EAAY;AAClCT,MAAAA,IAAAA,CAAK,qBAAqBS,EAAE,CAAA;AAC5BT,MAAAA,IAAAA,CAAK,UAAUS,EAAE,CAAA;AAAA,IACnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}